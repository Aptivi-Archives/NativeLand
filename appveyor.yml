version: 1.0.{build}
image: Visual Studio 2019 Preview
configuration: Release
dotnet_csproj:
  patch: true
  file: '**\*.csproj'
  version: '{version}'
  package_version: '{version}'
  assembly_version: '{version}'
  file_version: '{version}'
  informational_version: '{version}'
before_build:
- cmd: nuget restore
build:
  publish_nuget: true
  verbosity: minimal
deploy:
- provider: NuGet
  api_key:
    secure: DwVLqVduku31GF8fox2p5ZwRIqYcW6FVLYGmXtFCjrtj57seDVLFbFA1N98SMhwl
  skip_symbols: true
notifications:
- provider: Webhook
  url: https://maker.ifttt.com/trigger/build_complete/with/key/dJWxoECfpFFVzQ9UCWxVIITWZFJZ3uN2i-KwHQI3vU3
  method: POST
  body: "{'value1': '{{projectName}} {{buildVersion}}', 'value2': '{{status}}', 'value3': '{{buildUrl}}'}"
  on_build_success: true
  on_build_failure: true
  on_build_status_changed: false